{"version":3,"sources":["webpack:///./src/app/views/reports/reports-routing.module.ts","webpack:///./src/app/views/reports/reports.component.html","webpack:///./src/app/views/reports/reports.component.scss","webpack:///./src/app/views/reports/reports.component.ts","webpack:///./src/app/views/reports/reports.module.ts"],"names":[],"mappings":"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","file":"views-reports-reports-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ReportsComponent } from './reports.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReportsComponent,\r\n    data: {\r\n      title: 'Reports'\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ReportsRoutingModule {}\r\n","module.exports = \"<div class=\\\"row mt-5\\\">\\n  \\n  <div class=\\\"col-xs-1 col-sm-1 col-md-1 col-lg-1\\\">\\n    \\n  </div>\\n  \\n  <div class=\\\"col-xs-4 col-sm-4 col-md-4 col-lg-4\\\">\\n    <div class=\\\"card-group mt-5\\\">\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-body\\\">\\n        <form [formGroup]=\\\"reportForm\\\" action=\\\"\\\" method=\\\"POST\\\" (ngSubmit)=\\\"onSubmit(reportForm.value)\\\" role=\\\"form\\\">\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"\\\">From Date</label>\\n            <input type=\\\"date\\\" formControlName=\\\"fromDate\\\" class=\\\"form-control\\\" id=\\\"\\\" placeholder=\\\"Input field\\\">\\n            <div *ngFor=\\\"let validation of validation_messages.fromDate\\\">\\n              <div class=\\\"text-danger\\\"\\n                *ngIf=\\\"reportForm.get('fromDate').hasError(validation.type) && (reportForm.get('fromDate').dirty || reportForm.get('fromDate').touched)\\\">\\n                <strong>{{validation.message}}</strong></div>\\n            </div>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"\\\">To Date</label>\\n            <input type=\\\"date\\\" formControlName=\\\"toDate\\\" class=\\\"form-control\\\" id=\\\"\\\" placeholder=\\\"Input field\\\">\\n            <div *ngFor=\\\"let validation of validation_messages.toDate\\\">\\n              <div class=\\\"text-danger\\\"\\n                *ngIf=\\\"reportForm.get('toDate').hasError(validation.type) && (reportForm.get('toDate').dirty || reportForm.get('toDate').touched)\\\">\\n                <strong>{{validation.message}}</strong></div>\\n            </div>\\n            <div class=\\\"text-danger\\\"\\n                *ngIf=\\\"errorMessage\\\">\\n                <strong>{{errorMessage}}</strong></div>            \\n          </div>\\n\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Get Report</button>\\n        </form>\\n      </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-xs-6 col-sm-6 col-md-6 col-lg-6 mt-5\\\">\\n    <div style=\\\"display: block;\\\">\\n      <canvas baseChart [data]=\\\"pieChartData\\\" [labels]=\\\"pieChartLabels\\\" [chartType]=\\\"pieChartType\\\"\\n        [options]=\\\"pieChartOptions\\\" [plugins]=\\\"pieChartPlugins\\\" [legend]=\\\"pieChartLegend\\\">\\n      </canvas>\\n    </div>\\n  </div>\\n  \\n  <div class=\\\"col-xs-1 col-sm-1 col-md-1 col-lg-1\\\">\\n    \\n  </div>\\n  \\n</div>\"","module.exports = \"p {\\n  font-family: Lato; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvcmVwb3J0cy9FOlxcUHJvamVjdHNcXGh0ZG9jc1xcRXMyYWxueVxcdHJ1bmtcXEFkbWluXFxjb25zdWx0YW50L3NyY1xcYXBwXFx2aWV3c1xccmVwb3J0c1xccmVwb3J0cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFpQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld3MvcmVwb3J0cy9yZXBvcnRzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XHJcbiAgICBmb250LWZhbWlseTogTGF0bztcclxuICB9Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { ChartType, ChartOptions } from 'chart.js';\nimport { SingleDataSet, Label, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from 'ng2-charts';\nimport { ReportService, MissionService } from '../../_services';\nimport { first } from 'rxjs/operators';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\n@Component({\n  selector: 'app-reports',\n  templateUrl: './reports.component.html',\n  styleUrls: ['./reports.component.scss']\n})\nexport class ReportsComponent {\n\n  loading = false;\n  submitted = false;\n  error = '';\n  success = '';\n  chartData: any;\n  reportForm: FormGroup;\n  parameters: any;\n  imageSrc: any;\n  isValidDate:boolean;\n  errorMessage:string;\n  validation_messages = {\n    'fromDate': [\n      { type: 'required', message: 'From Date is required' }\n    ],\n    'toDate': [\n      { type: 'required', message: 'To Date is required' },\n      \n    ],\n\n  };\n  public pieChartOptions: ChartOptions = {\n    responsive: true,\n  };\n  public pieChartLabels: Label[] = [['Total Provider Earn'], ['Total Admin Commission']];\n  public pieChartData: SingleDataSet = [300, 500];\n  public pieChartType: ChartType = 'pie';\n  public pieChartLegend = true;\n  public pieChartPlugins = [];\n\n  constructor(private reportService: ReportService, private formbulider: FormBuilder, private missionService:MissionService) {\n    monkeyPatchChartJsTooltip();\n    monkeyPatchChartJsLegend();\n    this.missionService.announceMission('Reports');\n  }\n \n  ngOnInit() {\n    const that = this;\n    this.reportForm = this.formbulider.group({\n      fromDate: ['', [Validators.required]],\n      toDate: ['', [Validators.required]]\n    });\n\n    this.parameters = {\n      \"startDate\": \"\",\n      \"endDate\": \"\"\n    }, \n    \n    this.reportService.getData(this.parameters).pipe(first())\n      .subscribe(\n        resp => {\n          console.log(resp + ' dfdf');\n          that.pieChartLabels = [['Total Provider Earn'], ['Total Admin Commission']];\n          // that.chartData = ;\n          this.pieChartData = [resp.TotalEarnReward.toFixed(0), resp.Totalcommission.toFixed(0)];\n          console.log(resp);\n        },\n        error => {\n\n        });\n  }\n  \n  get f() { return this.reportForm.controls; }\n  onSubmit() {\n\n    const that = this;\n    console.log(this.f);\n    this.submitted = true;\n    if (this.reportForm.invalid) {\n      return;\n    }\n    if(this.validateDates(this.f.fromDate.value, this.f.toDate.value) == false){\n      return;\n    }\n      \n    this.loading = true;\n    this.success = '';\n    this.error = '';\n    this.parameters = {\n      \"startDate\": this.f.fromDate.value,\n      \"endDate\": this.f.toDate.value\n    }\n    this.reportService.getReportByFilter(this.parameters).pipe(first()).subscribe(\n\n      resp => {\n        console.log(resp + ' dfdf');\n        that.pieChartLabels = [['Total Provider Earn'], ['Total Admin Commission']];\n        // that.chartData = ;\n        this.pieChartData = [resp.TotalEarnReward.toFixed(0), resp.Totalcommission.toFixed(0) ];\n        console.log(resp);\n        this.loading = false;\n\n      },\n      error => {\n        this.error = 'An Error Occured'\n        this.loading = false;\n\n      });\n\n  }\n\n  validateDates(sDate: string, eDate: string){\n    this.isValidDate = true;\n    \n\n    if((sDate != null && eDate !=null) && (eDate) < (sDate)){\n    \n       this.errorMessage = 'To Date should be greater then From date.';\n      this.isValidDate = false;\n    }\n    return this.isValidDate;\n  }\n}\n","// Angular\r\n\r\nimport { NgModule, NO_ERRORS_SCHEMA} from '@angular/core';\r\nimport { ReportsComponent } from './reports.component';\r\nimport { ReportsRoutingModule } from './reports-routing.module';\r\nimport {DataTablesModule} from 'angular-datatables';\r\nimport {CommonModule} from '@angular/common';\r\nimport { RouterModule, Routes} from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NgMultiSelectDropDownModule } from 'ng-multiselect-dropdown';\r\nimport { ChartsModule } from 'ng2-charts';\r\nconst routes: Routes = [\r\n//   {\r\n//     path:'add',\r\n//     component: PlansAddComponent\r\n//   },\r\n\r\n//   {\r\n//     path:'edit/:id',\r\n//     component: PlansEditComponent\r\n//   },\r\n\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    ReportsRoutingModule,\r\n    DataTablesModule,\r\n    CommonModule,\r\n    ChartsModule,\r\n    // RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    NgMultiSelectDropDownModule.forRoot()\r\n  ],\r\n  declarations: [\r\n    ReportsComponent,\r\n    \r\n  ],\r\n  \r\n})\r\nexport class ReportsModule{ } "],"sourceRoot":""}